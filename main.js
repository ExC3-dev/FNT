javascript:(function(){if(window.__networkTab){document.body.removeChild(window.__networkTab);delete window.__networkTab;return;}let container=document.createElement("div");container.style="position:fixed;bottom:10px;right:10px;width:500px;height:300px;overflow:auto;background:black;color:white;border:1px solid white;padding:10px;z-index:99999;font-family:monospace;font-size:12px;";container.innerHTML=`<div style="display:flex;justify-content:space-between;align-items:center;"><h4 style="margin:0;">Network Monitor</h4><button id="closeMonitor" style="background:red;color:white;border:none;padding:5px;cursor:pointer;">X</button></div><table style='width:100%;border-collapse:collapse;' id='networkLog'><tr style="border-bottom:1px solid white;"><th>Method</th><th>URL</th><th>Status</th><th>Time</th><th>Copy</th></tr></table>`;document.body.appendChild(container);window.__networkTab=container;document.getElementById("closeMonitor").onclick=function(){document.body.removeChild(container);delete window.__networkTab;};function logRequest(method,url,status,time,curlCommand){if(!url||!url.startsWith("http"))return;let row=document.createElement("tr");row.innerHTML=`<td>${method}</td><td title="${url}" style="max-width:100px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">${url.slice(0,30)}...</td><td>${status}</td><td>${time}ms</td><td><button style="background:#333;color:white;border:none;cursor:pointer;">ðŸ“‹</button></td>`;row.querySelector("button").onclick=()=>{navigator.clipboard.writeText(curlCommand);alert("Copied cURL command!");};document.getElementById("networkLog").appendChild(row);}function generateCurl(method,url,headers={},body=null){if(!url||!url.startsWith("http"))return"";let headerString=Object.entries(headers).map(([k,v])=>`-H "${k}: ${v}"`).join(" ");let bodyString=body?`--data '${body.replace(/'/g,"\\'")}'`:"";return `curl -X ${method} "${url}" ${headerString} ${bodyString}`;}let originalFetch=window.fetch;window.fetch=function(...args){let startTime=performance.now();return originalFetch.apply(this,args).then(response=>{response.clone().text().then(body=>{logRequest(args[1]?.method||"GET",response.url,response.status,Math.round(performance.now()-startTime),generateCurl(args[1]?.method||"GET",response.url,args[1]?.headers||{},body));});return response;});};let originalXHR=window.XMLHttpRequest.prototype.open;window.XMLHttpRequest.prototype.open=function(method,url,...rest){this._url=url;this._method=method;originalXHR.apply(this,[method,url,...rest]);};let originalSend=window.XMLHttpRequest.prototype.send;window.XMLHttpRequest.prototype.send=function(body){let startTime=performance.now();this.addEventListener("load",function(){logRequest(this._method,this._url,this.status,Math.round(performance.now()-startTime),generateCurl(this._method,this._url,{},body));});originalSend.apply(this,[body]);};})();
